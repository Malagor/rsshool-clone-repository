!function(l){function e(e){for(var t,n,r=e[0],i=e[1],s=e[2],a=0,o=[];a<r.length;a++)n=r[a],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&o.push(c[n][0]),c[n]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(l[t]=i[t]);for(v&&v(e);o.length;)o.shift()();return d.push.apply(d,s||[]),u()}function u(){for(var e,t=0;t<d.length;t++){for(var n=d[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==c[s]&&(r=!1)}r&&(d.splice(t--,1),e=a(a.s=n[0]))}return e}var n={},c={0:0},d=[];function a(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=l,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var t=window.webpackJsonp=window.webpackJsonp||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var i=0;i<t.length;i++)e(t[i]);var v=r;d.push([99,1]),u()}({62:function(e,t,n){e.exports=n.p+"359ca5e2a9057e30254daad2be4d35a9.mp3"},96:function(e,t,n){var r=n(97),i=n(98);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n={insert:"head",singleton:!1},r(i,n);e.exports=i.locals||{}},98:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);n(18),n(49),n(77),n(32),n(51),n(78),n(53),n(79),n(56),n(88),n(89),n(60),n(92),n(95),n(61);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.index=e,this.value=t,this.$square=null,this.init()}var e,t,r;return e=n,r=[{key:"create",value:function(e,t){return new n(e,t)}}],(t=[{key:"init",value:function(){var e=document.createElement("div");e.className="square",e.innerText=this.value,this.$square=e}},{key:"square",get:function(){return this.$square}}])&&i(e.prototype,t),r&&i(e,r),n}();function s(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function a(e,t,n){var l=this,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],i=4<arguments.length&&void 0!==arguments[4]&&arguments[4],s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u(this,"render",function(){l.$board.style.gridTemplateColumns="repeat(".concat(l.size,", 1fr)"),l.$board.style.gridTemplateRows="repeat(".concat(l.size,", 1fr)"),l.$board.innerHTML="";var n=document.createDocumentFragment();l.cellArray.forEach(function(e){var t=e.square;t&&(t.$square.setAttribute("draggable","false"),e.cell.appendChild(t.$square)),n.appendChild(e.cell)}),l.$board.appendChild(n)}),u(this,"isSolution",function(i){function e(e){return!(e%2)}var s=null,a=Math.sqrt(i.length),t=i.reduce(function(e,t,n){if(t===i.length-1)s=(n-n%a)/a+1;else for(var r=n+1;r<i.length;r+=1)t>i[r]&&(e+=1);return e},0);return e(i.length)&&(t+=s),e(t)}),u(this,"move",function(e){var t,n=l.getIndexElementByTarget(e),r=l.getIndexEmpty(),i=l.cellArray[n],s=i.top,e=i.left,i=l.cellArray[r],s=s-i.top,i=e-i.left;return Math.abs(i)+Math.abs(s)===1&&(-1==i?t="Right":1==i?t="Left":-1==s?t="Down":1==s&&(t="Up"),l.animationMove(t,n),l.cellArray[r].square=l.cellArray[n].square,l.cellArray[n].square=null,l.createEventMove(),l.isFinish(),!0)}),u(this,"createEventFinish",function(){var e=new Event("finish",{bubbles:!0});l.$board.dispatchEvent(e)}),u(this,"dragNDrop",function(){document.querySelectorAll(".square").forEach(function(e){e.setAttribute("draggable","false")});var e=l.cellArray[l.getIndexEmpty()],t=e.top,n=e.left,t=l.nextdoorNeighbours(t,n).map(function(e){return!!l.cellArray[e].square&&l.cellArray[e].square.$square});t.forEach(function(e){return e.setAttribute("draggable","true")});function r(e){setTimeout(function(){e.target.classList.add("hide"),l.draggableSquare=e.target},0)}function i(e){e.target.classList.remove("hide")}function s(e){e.preventDefault()}function a(){this.classList.add("hovered")}function o(){this.classList.remove("hovered")}n=function t(e){e.preventDefault();var n=l.getIndexElementByTarget(e.target);l.moveSquareInArray(n,l.draggableSquare),e.target.append(l.draggableSquare),e.target.classList.remove("hovered"),l.cellArray.forEach(function(e){e=e.cell;e.removeEventListener("dragover",s),e.removeEventListener("dragenter",a),e.removeEventListener("dragleave",o),e.removeEventListener("drop",t)}),l.createEventMove(),l.isFinish(),l.render()};e.cell.addEventListener("dragover",s),e.cell.addEventListener("dragenter",a),e.cell.addEventListener("dragleave",o),e.cell.addEventListener("drop",n),t.forEach(function(e){e.removeEventListener("dragstart",r),e.removeEventListener("dragend",i),e.addEventListener("dragstart",r),e.addEventListener("dragend",i)})}),u(this,"moveSquareInArray",function(e,t){var n=l.cellArray.filter(function(e){return e.square&&e.square.$square===t});l.cellArray[e].square=n[0].square,n[0].square=null}),u(this,"animationMove",function(e,t){var n="move".concat(e),r=l.cellArray[t].square.$square;r.classList.add(n),l.$board.addEventListener("click",function(e){e.preventDefault()}),r.addEventListener("animationend",function(){r.classList.remove(n),l.render()})}),u(this,"getIndexElementByTarget",function(t){return l.cellArray.findIndex(function(e){return e.cell===t})}),u(this,"getIndexEmpty",function(){return l.cellArray.findIndex(function(e){return null===e.square})}),u(this,"getValueSquareArray",function(){return l.cellArray.map(function(e){return l.getSquareIndex(e)})}),this.size=t||4,this.countCells=t*t,this.$board=e,this.cellArray=null,this.isPic=i,this.imageIndex=s,this.draggableSquare=null,this.randIndexArray=r,this.sizeBoard=n}var e,t,n;return e=a,n=[{key:"create",value:function(e,t,n,r,i,s){return new a(e,t,n,r,i,s)}}],(t=[{key:"start",value:function(e){e=0<arguments.length&&void 0!==e&&e;this.$board.style.setProperty("--size","".concat(this.size)),this.cellArray=[],0===this.randIndexArray.length&&(this.randIndexArray=this.randIndex(this.countCells,!e)),this.isPic&&null===this.imageIndex&&(this.imageIndex=1+Math.floor(Math.random()*Math.floor(150)));for(var t=0;t<this.countCells;t+=1){var n=document.createElement("div");n.className="cell";var r,i,s,a,o,l=t%this.size,u=(t-l)/this.size,c=null;this.randIndexArray[t]!==this.countCells-1&&(c=d.create(this.randIndexArray[t],this.randIndexArray[t]+1),this.isPic&&(r=c.square,i=this.sizeBoard,s=this.sizeBoard,o=this.size,a=this.randIndexArray[t]%o,o=(this.randIndexArray[t]-a)/o,r.style.backgroundImage="url(./assets/images/".concat(this.imageIndex,".jpg)"),r.style.backgroundSize="".concat(i,"px ").concat(s,"px"),r.style.setProperty("--bgTop","".concat(a)),r.style.setProperty("--bgLeft","".concat(o)))),this.cellArray.push({top:u,left:l,cell:n,square:c})}this.render()}},{key:"randIndex",value:function(e,t){for(var n=!(1<arguments.length&&void 0!==t)||t,r=s(Array(e).keys());n&&(r=r.sort(function(){return Math.random()-.5})),!this.isSolution(r););return r}},{key:"createEventMove",value:function(){var e=new Event("isMove",{bubbles:!0});this.$board.dispatchEvent(e)}},{key:"isFinish",value:function(){var r=this;return!!this.cellArray.every(function(e){var t=e.top,n=e.left,e=e.square?e.square.index:r.countCells-1;return t*r.size+n===e})&&(this.createEventFinish(),!0)}},{key:"nextdoorNeighbours",value:function(e,t){var n=this,r=e*this.size+t;return[0===e?null:r-n.size,0===t?null:r-1,t===n.size-1?null:r+1,e===n.size-1?null:r+n.size].filter(function(e){return null!==e})}},{key:"getSquareIndex",value:function(e){e=e.square;return e?e.index:this.countCells-1}}])&&o(e.prototype,t),n&&o(e,n),a}();function l(e){var t=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),e=(e=Math.floor(e/36e5%24))<10?"0".concat(e):e,n=n<10?"0".concat(n):n,t=t<10?"0".concat(t):t;return"".concat(e,":").concat(n,":").concat(t)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(){function n(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),v(this,"createHTML",function(e){e.insertAdjacentHTML("afterbegin",'\n    <div class="stat">\n      <span class="turns">Turns: 0</span>\n      <span class="times">Time: 00:00:00</span>\n    </div>\n    '),t.$turns=t.$el.querySelector(".turns"),t.$times=t.$el.querySelector(".times")}),v(this,"start",function(){"play"!==t._state&&(t._time=0,t._turns=0,t._state="play"),t.$turns.innerText="Turns: ".concat(t._turns),setTimeout(t.tick,1e3)}),v(this,"stop",function(){t._state="stop",clearTimeout(t.timerID),t.timerID=null}),v(this,"turn",function(){"play"===t._state&&(t._turns+=1,t.$turns.innerText="Turns: ".concat(t._turns))}),v(this,"getTurns",function(){return t._turns}),v(this,"tick",function(){"play"===t._state&&(t._time+=1e3,t.$times.textContent="Time: ".concat(l(t.time)),t.timerID=setTimeout(t.tick,1e3))}),this._time=0,this._turns=0,this._state="start",this.timerID=null,this.$el=null,this.$turns=null,this.$times=null,this.init(e)}var e,t,r;return e=n,r=[{key:"ready",value:function(e){return new n(e)}}],(t=[{key:"init",value:function(e){this.$el=document.querySelector(e),this.createHTML(this.$el)}},{key:"getState",value:function(){return{time:this._time,turns:this._turns,state:this._state}}},{key:"time",get:function(){return this._time},set:function(e){this._time=e}},{key:"state",get:function(){return this._state},set:function(e){this._state=e}},{key:"turns",get:function(){return this._turns},set:function(e){this._turns=e}}])&&c(e.prototype,t),r&&c(e,r),n}();function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(){function e(){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"loadTable",function(){return localStorage.getItem("scoreTable")?JSON.parse(localStorage.getItem("scoreTable")):(console.log("Таблица рекордов не загружена"),[])}),h(this,"setResult",function(e){var t=e.time,n=e.turns,r=s.getLastPositionInScoreByTime(),i=s.getLastPositionInScoreByTurns();return(t<r||n<i||-1===r||-1===i)&&(s.scoreTable.push(e),s.saveTable(),!0)}),h(this,"getLastPositionInScoreByTime",function(){var e=s.sortByField("time");return e.length<10?-1:e[e.length-1].time}),h(this,"getLastPositionInScoreByTurns",function(){var e=s.sortByField("turns");return e.length<10?-1:e[e.length-1].turns}),this.scoreTable=this.loadTable()}var t,n,r;return t=e,r=[{key:"ready",value:function(){return new e}}],(n=[{key:"saveTable",value:function(){this.scoreTable.length?localStorage.setItem("scoreTable",JSON.stringify(this.scoreTable)):console.log("Таблица рекордов не сохранена. Таблица пуста")}},{key:"sortByField",value:function(n){return this.scoreTable.sort(function(e,t){return e[n]-t[n]}).filter(function(e,t){return t<10})}},{key:"getBestTime",value:function(){return this.sortByField("time")}},{key:"getBestTurns",value:function(){return this.sortByField("turns")}}])&&f(t.prototype,n),r&&f(t,r),e}(),t=n(62),g=n.n(t);function y(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(){function i(){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),T(this,"init",function(){document.body.insertAdjacentHTML("afterbegin",'\n    <div class="menu-toggle">\n      <span></span>\n      <span></span>\n      <span></span>\n      <span></span>\n    </div>\n    <div class="menu">\n      <div class="menu-inner">\n        <div class="score"></div>\n        <div class="settings"></div>\n      </div>\n    </div>\n    '),document.body.insertAdjacentHTML("afterbegin",'\n    <div class="field"></div>\n    <div class="statistic"></div>\n    '),n.state=m.ready(".statistic"),n.score=p.ready(),n.elements.board=document.querySelector(".field"),n.elements.menuToggle=document.querySelector(".menu-toggle"),n.elements.menuInner=document.querySelector(".menu-inner"),n.elements.menu=document.querySelector(".menu"),n.elements.newGame=document.querySelector("#new"),n.elements.resume=document.querySelector("#resume"),n.elements.score=document.querySelector("#score"),n.elements.setting=document.querySelector("#setting"),n.viewMenu()}),T(this,"events",function(){document.body.addEventListener("click",function(e){var t=e.target;t.closest(".cell")&&n.board.move(t.closest(".cell")),t.closest(".menu-toggle")&&n.menuToggle(e),t.closest("#new")&&n.newGame(e),t.closest("#resume")&&n.resume(e),t.closest("#score")&&n.viewScore(),t.closest("#setting")&&n.viewSetting(),t.closest("#timeLabel")&&n.viewTimeScore(),t.closest("#turnLabel")&&n.viewTurnsScore(),t.closest(".back")&&n.viewMenu()}),n.elements.board.addEventListener("finish",n.eventFinishGame),n.elements.board.addEventListener("isMove",n.eventIsMove)}),T(this,"eventFinishGame",function(){n.finishGame(),n.saveStateGame()}),T(this,"eventIsMove",function(){var e;n.properties.isSound&&((e=new Audio).src=g.a,e.autoplay=!0),n.state.turn(),n.saveStateGame()}),T(this,"newGame",function(e){n.menuToggle(e),document.querySelector(".win-modal")&&document.body.removeChild(document.querySelector(".win-modal")),document.querySelector(".overlay")&&document.body.removeChild(document.querySelector(".overlay")),n.properties.isPicturesSquare?n.elements.board.classList.add("picture"):n.elements.board.classList.remove("picture"),n.board=a.create(n.elements.board,n.properties.size,n.properties.sizeBoard,[],n.properties.isPicturesSquare),n.board.start(),n.state.stop(),n.state.start()}),T(this,"viewScore",function(){n.elements.menuInner.innerHTML="",n.elements.menuInner.insertAdjacentHTML("afterbegin",'\n    <div class="score-view">\n    <a class="back" href="#"><h2>Back</h2></a>\n      <h2 class="menu__title">Scores</h2>\n      <ul class="score__labels">\n        <li class="score__item active" id="timeLabel">Time</li>\n        <li class="score__item" id="turnLabel">Turns</li>\n      </ul>\n      <div class="score__content">\n        <div class="score__table">                   \n        </div>\n      </div>\n    </div>\n  </div>\n    '),n.elements.timeToggle=document.querySelector("#timeLabel"),n.elements.turnsToggle=document.querySelector("#turnLabel"),n.elements.timeToggle.classList.contains("active")?n.viewTimeScore():n.viewTurnsScore()}),T(this,"viewTimeScore",function(){n.elements.timeToggle.classList.contains("active")||n.scoreToggle();var i=document.querySelector(".score__table");i.innerHTML="",i.insertAdjacentHTML("beforeend",'<div class="position">Pos</div>\n      <div class="name">Name</div>\n      <div class="time">Time</div>\n      <div class="turns">Turns</div> '),n.score.getBestTime().forEach(function(e,t){var n=e.name,r=e.time,e=e.turns;i.insertAdjacentHTML("beforeend",'\n          <div class="position">'.concat(t+1,'</div>\n          <div class="name">').concat(n,'</div>\n          <div class="time">').concat(l(r),'</div>\n          <div class="turns">').concat(e,"</div>       \n      "))})}),T(this,"viewTurnsScore",function(){n.elements.turnsToggle.classList.contains("active")||n.scoreToggle();var i=document.querySelector(".score__table");i.innerHTML="",i.insertAdjacentHTML("beforeend",'<div class="position">Pos</div>\n      <div class="name">Name</div>\n      <div class="turns">Turns</div> \n      <div class="time">Time</div>'),n.score.getBestTurns().forEach(function(e,t){var n=e.name,r=e.time,e=e.turns;i.insertAdjacentHTML("beforeend",'\n          <div class="position">'.concat(t+1,'</div>\n          <div class="name">').concat(n,'</div>\n          <div class="turns">').concat(e,'</div>       \n          <div class="time">').concat(l(r),"</div>\n      "))})}),T(this,"viewWin",function(){var e=n.score.getLastPositionInScoreByTime(),t=n.score.getLastPositionInScoreByTurns(),t=e<0||t<0||e>n.state.time||t>n.state.turns;document.body.insertAdjacentHTML("afterbegin",'\n    <div class="overlay"></div>\n      <div class="win-modal '.concat(t?"":"no-record",'">\n        <div class="title">Вам удалось!!!</div>\n        <div class="text">После <span class="record-time">').concat(l(n.state.time),'</span> времени и <span class="record-turns">').concat(n.state.turns,'</span> ходов вы собрали пазл из <span class="record-size">').concat(n.properties.size*n.properties.size-1,'</span> клеток. Поздравляю!!!\n        </div>\n        <div class="record">Вы<span class="worm-words">, к сожалению не</span> попали в таблицу рекордов<span class="worm-words">. Но это не повод унывать, вы все равно молодец!</span><span class="reason">.</span> </div>\n        <div class="question">Внести ваш результат в таблицу? Если "Да", то введите ваше имя и отправте форму. Если вы скромничаете, то тоже имеете право.\n        </div>\n        <div class="next-game">Для начала новой игры или изменения настроек зайдите в меню. Там все будет.</div>\n        <form class="your-name-form">\n          <input id="name" class="name" type="text" placeholder="Ваше имя?">\n          <input id="cancel" type="reset" value="Я скромный">\n          <input id="send" type="submit" value="Я ПОБЕДИТЕЛЬ!">\n        </form>\n    \n    </div>    \n    '))}),T(this,"scoreToggle",function(){var e=n.elements,t=e.timeToggle,e=e.turnsToggle;t.classList.toggle("active"),e.classList.toggle("active")}),T(this,"closeModal",function(){var e=document.querySelector(".win-modal "),t=document.querySelector(".overlay ");document.body.removeChild(e),document.body.removeChild(t)}),T(this,"saveStateGame",function(){var e={size:n.properties.size,isPic:n.properties.isPicturesSquare,isSound:n.properties.isSound,imgIndex:n.board.imageIndex,arrayCell:n.board.getValueSquareArray(),state:n.state.getState()};localStorage.setItem("saveGame",JSON.stringify(e))}),T(this,"loadStateGame",function(){return JSON.parse(localStorage.getItem("saveGame"))||null}),this.properties={size:4,isPicturesSquare:!1,isSound:!0,sizeBoard:null},this.elements={menuToggle:null,menuInner:null,menu:null,newGame:null,score:null,setting:null,resume:null,timeToggle:null,turnsToggle:null,board:null},this.board=null,this.state=null,this.score=null,this.init(),this.events()}var e,t,n;return e=i,n=[{key:"ready",value:function(){var e,t,n=new i,r=n.loadStateGame();return r?(n.properties.size=+r.size,n.properties.isSound=r.isSound,n.properties.isPicturesSquare=r.isPic,n.properties.isPicturesSquare?n.elements.board.classList.add("picture"):n.elements.board.classList.remove("picture"),e=r.imgIndex,t=r.state,r=r.arrayCell,n.state.time=t.time,n.state.turns=t.turns,n.state.state=t.state,n.board=a.create(n.elements.board,n.properties.size,n.properties.sizeBoard,r,n.properties.isPicturesSquare,e)):n.board=a.create(n.elements.board,n.properties.size,n.properties.sizeBoard),n.board.start(!0),"play"===n.state.state&&n.state.start(),n}}],(t=[{key:"menuToggle",value:function(e){e.preventDefault();var t=this.elements,e=t.menu,n=t.menuToggle;e.classList.toggle("open"),n.classList.toggle("open"),document.querySelector(".field").classList.toggle("blur"),document.querySelector(".stat").classList.toggle("blur"),document.querySelector(".win-modal")&&document.querySelector(".win-modal").classList.toggle("blur")}},{key:"resume",value:function(e){this.menuToggle(e)}},{key:"viewMenu",value:function(){this.elements.menuInner.innerHTML="",this.elements.menuInner.insertAdjacentHTML("afterbegin",'\n        <ul class="menu-list">\n          <li id="resume">Continue</li>\n          <li id="new">New Game</li>\n          <li id="score">Score</li>\n          <li id="setting">Setting</li>\n        </ul>\n        \n        <div class="author">Discord: Malagor#6535</div>\n    ')}},{key:"viewSetting",value:function(){var n=this;this.elements.menuInner.innerHTML="",this.elements.menuInner.insertAdjacentHTML("afterbegin",'\n        <form class="settings" name="settings">\n        <a class="back" href="#"><h2>Back</h2></a>\n        <h2 class="menu__title">Settings</h2>\n        <div class="group">\n        <label for="size">Size</label>\n            <select name="size" id="size">\n              <option value="3">3x3</option>\n              <option value="4">4x4</option>\n              <option value="5">5x5</option>\n              <option value="6">6x6</option>\n              <option value="7">7x7</option>\n              <option value="8">8x8</option>\n            </select>\n        </div>\n        <div class="group">\n        <label for="isPicture">Design</label>\n        <div>\n        <input type="radio" name="isPicture" id="isPic" checked value="false"><label class="input-label" for="isPic">Digit</label>\n        </div>\n        <div>\n        <input type="radio" name="isPicture" value="true" id="isDig"  checked="checked"><label class="input-label" for="isDig">Picture</label>\n        </div>\n        </div>\n        <div class="group">\n          <input type="checkbox" id="sound">\n          <label class="sound-label" for="sound">Sound</label>\n        </div>\n        </form>\n    ');var r=document.querySelector(".settings #size"),i=document.querySelectorAll('input[type="radio"][name="isPicture"]'),s=document.querySelector("#sound");r.options[this.properties.size-3].selected=!0,s.checked=this.properties.isSound;function e(){n.properties.size=r.value,n.properties.isSound=s.checked;var t=y(i);try{for(t.s();!(e=t.n()).done;){var e=e.value;e.checked&&(n.properties.isPicturesSquare="true"===e.value)}}catch(e){t.e(e)}finally{t.f()}}r.addEventListener("change",e),s.addEventListener("change",e);var t=y(i);try{for(t.s();!(a=t.n()).done;){var a=a.value;a.checked=a.value==="".concat(this.properties.isPicturesSquare),a.addEventListener("change",e)}}catch(e){t.e(e)}finally{t.f()}}},{key:"finishGame",value:function(){var t=this;this.board.randIndexArray=[],this.state.stop(),this.state._state="finish";var n=this.state.getTurns(),r=this.state.time;this.saveStateGame(),this.viewWin(),document.querySelector("#send").addEventListener("click",function(){var e=document.querySelector("#name").value;""===e&&(e="Gamer");e={turns:n,time:r,name:e};n&&r&&t.score.setResult(e),t.closeModal()}),document.querySelector("#cancel").addEventListener("click",function(){t.closeModal()})}}])&&S(e.prototype,t),n&&S(e,n),i})().ready();n(96)}});